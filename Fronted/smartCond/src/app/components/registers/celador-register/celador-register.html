<div class="dashboard-container">
  <div class="main-content">

    <div class="top-header">
      <button class="back-btn" (click)="goBack()">
        <svg width="26" height="33" viewBox="0 0 26 33" fill="none">
          <path d="M24 2L4 17.3826L24 31" stroke="#5D4F4F" stroke-width="4" stroke-linecap="round"/>
        </svg>
      </button>
    </div>

    <div class="content-sections">
      <div class="left-content">
        <div class="section">
          <h3 class="section-title">Registro de Celador</h3>

          <div class="section-content">
            <form [formGroup]="celadorForm" (ngSubmit)="onSubmit()" class="form form--registro">

              <!-- Nombres -->
              <div class="form__row">
                <label class="form__label">Nombres</label>
                <input type="text" formControlName="name" class="form__input" maxlength="30" (input)="stripNonAlpha('name')">
                <small *ngIf="celadorForm.get('name')?.touched && celadorForm.get('name')?.errors?.['required']" class="text-danger">El nombre es requerido.</small>
                <small *ngIf="celadorForm.get('name')?.touched && celadorForm.get('name')?.errors?.['pattern']" class="text-danger">Solo se permiten letras.</small>
              </div>

              <!-- Apellidos -->
              <div class="form__row">
                <label class="form__label">Apellidos</label>
                <input type="text" formControlName="lastName" class="form__input" maxlength="30" (input)="stripNonAlpha('lastName')">
                <small *ngIf="celadorForm.get('lastName')?.touched && celadorForm.get('lastName')?.errors?.['required']" class="text-danger">El apellido es requerido.</small>
                <small *ngIf="celadorForm.get('lastName')?.touched && celadorForm.get('lastName')?.errors?.['pattern']" class="text-danger">Solo se permiten letras.</small>
              </div>

              <!-- Documento -->
              <div class="form__row">
                <label class="form__label">Documento</label>
                <input type="text" formControlName="document" class="form__input" maxlength="11" (input)="stripNonNumeric('document')">
                <small *ngIf="celadorForm.get('document')?.touched && celadorForm.get('document')?.invalid" class="text-danger">
                  <span *ngIf="celadorForm.get('document')?.errors?.['documentTaken']">Documento ya registrado.</span>
                  <span *ngIf="celadorForm.get('document')?.errors?.['required']">El documento es requerido.</span>
                  <span *ngIf="celadorForm.get('document')?.errors?.['pattern']">Solo n√∫meros.</span>
                </small>
              </div>

              <!-- Correo -->
              <div class="form__row">
                <label class="form__label">Correo</label>
                <input type="email" formControlName="email" class="form__input">
                <small *ngIf="celadorForm.get('email')?.touched && celadorForm.get('email')?.invalid" class="text-danger">
                  <span *ngIf="celadorForm.get('email')?.errors?.['emailTaken']">Correo ya registrado.</span>
                  <span *ngIf="celadorForm.get('email')?.errors?.['required']">Correo requerido.</span>
                  <span *ngIf="celadorForm.get('email')?.errors?.['pattern']">Correo inv√°lido.</span>
                </small>
              </div>

              <!-- Confirmar correo -->
              <div class="form__row">
                <label class="form__label">Confirmar correo</label>
                <input type="email" formControlName="emailConfirm" class="form__input">
                <small *ngIf="celadorForm.get('emailConfirm')?.errors?.['emailMismatch'] && celadorForm.get('emailConfirm')?.touched" class="text-danger">Los correos no coinciden.</small>
              </div>

              <!-- Tel√©fono -->
              <div class="form__row">
                <label class="form__label">Celular</label>
                <input type="text" formControlName="phoneNumber" class="form__input" maxlength="15" (input)="stripNonNumeric('phoneNumber')">
                <small *ngIf="celadorForm.get('phoneNumber')?.touched && celadorForm.get('phoneNumber')?.errors?.['required']" class="text-danger">El Numero de Celular es Requerido.</small>
                <small *ngIf="celadorForm.get('phoneNumber')?.touched && celadorForm.get('phoneNumber')?.errors?.['pattern']" class="text-danger">Solo n√∫meros.</small>
              </div>

              <!-- Direcci√≥n -->
              <div class="form__row">
                <label class="form__label">Direcci√≥n</label>
                <input type="text" formControlName="direction" class="form__input">
                <small *ngIf="celadorForm.get('direction')?.touched && celadorForm.get('direction')?.errors?.['required']" class="text-danger">La Direcci√≥n es Requerida.</small>
              </div>

              <!-- Contrase√±a -->
              <div class="form__row" style="position:relative;">
                <label class="form__label">Contrase√±a</label>
                <input [type]="showPassword ? 'text' : 'password'" formControlName="password" class="form__input">

                <button type="button" (click)="toggleShowPassword()" style="position:absolute; right:10px; top:32px;">
                  üëÅ
                </button>

                <small *ngIf="celadorForm.get('password')?.touched && celadorForm.get('password')?.errors?.['required']" class="text-danger">Requerida.</small>
                <small *ngIf="celadorForm.get('password')?.touched && celadorForm.get('password')?.errors?.['minlength']" class="text-danger">M√≠nimo 6 caracteres.</small>
              </div>

              <!-- Confirmar Contrase√±a -->
              <div class="form__row" style="position:relative;">
                <label class="form__label">Confirmar contrase√±a</label>
                <input [type]="showPasswordConfirm ? 'text' : 'password'" formControlName="passwordConfirm" class="form__input">

                <button type="button" (click)="toggleShowPasswordConfirm()" style="position:absolute; right:10px; top:32px;">
                  üëÅ
                </button>

                <small *ngIf="celadorForm.get('passwordConfirm')?.errors?.['passwordMismatch'] && celadorForm.get('passwordConfirm')?.touched" class="text-danger">No coinciden.</small>
              </div>

              <!-- Bot√≥n -->
              <button type="submit" class="form__submit" [disabled]="celadorForm.invalid || isSubmitting">
                {{ isSubmitting ? 'Registrando...' : 'Registrar Celador' }}
              </button>

            </form>
          </div>

        </div>
      </div>
    </div>

  </div>
</div>
